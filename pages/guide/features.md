# 功能概览

OpenIDCS 提供了全面的虚拟化管理功能，涵盖虚拟机生命周期管理、网络配置、用户权限、监控运维等多个方面。

## 🔧 多虚拟化平台支持

### 支持的平台

OpenIDCS 支持业界主流的虚拟化技术：

#### VMware 系列
- **VMware Workstation** ✅ 生产就绪
  - 完整的虚拟机管理功能
  - 支持快照和克隆
  - 网络配置和端口转发
  
- **VMware vSphere ESXi** 🚧 开发中
  - 企业级虚拟化平台
  - 高可用性支持
  - 资源池管理

#### 容器技术
- **Docker/Podman** ✅ 生产就绪
  - 轻量级容器管理
  - Docker Hub 镜像支持
  - Web Terminal 访问
  
- **LXC/LXD** ✅ 生产就绪
  - 系统级容器
  - 快速部署
  - 资源隔离

#### 其他平台
- **Proxmox VE** 🚧 开发中
- **Windows Hyper-V** 🚧 开发中
- **Oracle VirtualBox** 📋 计划中
- **QEMU & KVM** 📋 计划中

### 统一管理接口

无论使用哪种虚拟化平台，都可以通过统一的界面和API进行管理：

```python
# 统一的API调用方式
server = HostServer(config)
server.HSLoader()  # 连接到虚拟化平台
server.VMCreate(vm_config)  # 创建虚拟机
server.VMPowers(vm_id, VMPowers.S_START)  # 启动虚拟机
```

## 🖥️ 完整的虚拟机生命周期管理

### 创建与配置

- **快速创建**：通过模板快速创建虚拟机
- **自定义配置**：灵活配置CPU、内存、磁盘等资源
- **批量部署**：支持批量创建相同配置的虚拟机
- **模板管理**：保存和复用虚拟机配置模板

### 电源管理

- **启动**：启动虚拟机
- **停止**：正常关闭或强制关闭
- **重启**：重启虚拟机
- **暂停/恢复**：暂停虚拟机运行并恢复
- **定时任务**：设置定时启动/关闭

### 资源调整

- **动态调整**：在线调整CPU和内存（部分平台支持）
- **磁盘扩容**：扩展虚拟磁盘容量
- **磁盘挂载**：挂载/卸载虚拟磁盘
- **ISO挂载**：挂载ISO镜像文件

### 快照与备份

- **快照管理**：创建、恢复、删除快照
- **自动备份**：定时自动备份虚拟机
- **备份恢复**：从备份文件恢复虚拟机
- **导出/导入**：导出虚拟机为文件，导入到其他主机

### 克隆与迁移

- **完整克隆**：创建虚拟机的完整副本
- **链接克隆**：基于快照的快速克隆
- **跨主机迁移**：在不同主机间迁移虚拟机

## 🌐 网络与安全管理

### IP地址管理

- **IP池管理**：配置和管理IP地址池
- **自动分配**：自动为虚拟机分配IP地址
- **静态配置**：手动指定IP地址
- **IP回收**：删除虚拟机时自动回收IP

### 网络配置

- **多网卡支持**：为虚拟机配置多个网络接口
- **网桥管理**：配置公网和内网网桥
- **VLAN支持**：配置VLAN标签
- **MAC地址**：自定义或自动生成MAC地址

### NAT端口转发

- **端口映射**：将主机端口映射到虚拟机
- **批量配置**：批量添加端口转发规则
- **协议支持**：支持TCP和UDP协议
- **规则管理**：查看、修改、删除转发规则

### Web反向代理

- **域名绑定**：为虚拟机绑定域名
- **SSL支持**：自动配置SSL证书
- **负载均衡**：配置多个后端服务器
- **访问控制**：基于IP的访问限制

### 防火墙管理

- **iptables规则**：配置防火墙规则
- **安全组**：创建和应用安全组策略
- **端口开放**：快速开放常用端口
- **流量限制**：限制虚拟机的网络流量

## 👥 多租户用户管理

### 用户系统

- **用户注册**：支持用户自助注册（可配置）
- **用户认证**：用户名密码登录
- **Token认证**：API Token认证
- **会话管理**：安全的会话管理机制

### 权限控制

基于角色的访问控制（RBAC）：

- **管理员**：完全控制权限
- **普通用户**：受限的虚拟机管理权限
- **只读用户**：仅查看权限

细粒度权限：
- 创建虚拟机权限
- 修改虚拟机权限
- 删除虚拟机权限
- 访问控制台权限
- 网络配置权限

### 资源配额

为每个用户设置资源使用限制：

- **CPU配额**：最大CPU核心数
- **内存配额**：最大内存容量
- **存储配额**：最大磁盘空间
- **虚拟机数量**：最大虚拟机数量
- **网络带宽**：网络流量限制

### 使用统计

- **资源使用情况**：查看用户的资源使用情况
- **配额监控**：实时监控配额使用率
- **超额告警**：配额即将用尽时发送告警
- **使用报表**：生成资源使用报表

## 📊 监控与运维

### 实时监控

#### 主机监控
- CPU使用率
- 内存使用率
- 磁盘使用率
- 网络流量
- 系统负载

#### 虚拟机监控
- 运行状态
- CPU使用率
- 内存使用率
- 磁盘I/O
- 网络流量

### 可视化仪表盘

- **总览仪表盘**：系统整体状态一览
- **主机仪表盘**：单个主机的详细信息
- **虚拟机仪表盘**：虚拟机性能图表
- **实时图表**：实时更新的性能曲线

### 日志管理

- **操作日志**：记录所有用户操作
- **系统日志**：记录系统事件
- **错误日志**：记录错误和异常
- **审计日志**：安全审计日志
- **日志搜索**：快速搜索和过滤日志
- **日志导出**：导出日志文件

### 告警通知

- **阈值告警**：资源使用超过阈值时告警
- **状态告警**：虚拟机状态异常时告警
- **邮件通知**：通过邮件发送告警
- **Webhook**：集成到其他系统

### 定时任务

- **定时备份**：定时备份虚拟机
- **定时快照**：定时创建快照
- **定时清理**：清理过期的备份和快照
- **定时报表**：生成定时报表

## 🔌 远程访问

### VNC控制台

- **Web VNC**：基于浏览器的VNC访问
- **无需插件**：无需安装任何客户端
- **SSL加密**：安全的加密连接
- **全屏模式**：支持全屏显示
- **剪贴板**：支持剪贴板共享

### SSH终端

- **Web Terminal**：基于浏览器的SSH终端
- **多会话**：支持多个终端会话
- **文件传输**：支持文件上传下载
- **命令历史**：保存命令历史记录

### 远程桌面

- **RDP支持**：Windows虚拟机RDP访问
- **VNC支持**：Linux虚拟机VNC访问
- **自动连接**：一键连接到虚拟机

## 💾 存储管理

### 虚拟磁盘

- **创建磁盘**：创建新的虚拟磁盘
- **挂载/卸载**：动态挂载和卸载磁盘
- **扩容**：在线扩展磁盘容量
- **快照**：创建磁盘快照

### ISO镜像

- **镜像库**：管理ISO镜像文件
- **上传镜像**：上传新的ISO镜像
- **挂载镜像**：将ISO挂载到虚拟机
- **批量操作**：批量管理镜像文件

### 数据备份

- **完整备份**：备份整个虚拟机
- **增量备份**：仅备份变化的数据
- **压缩备份**：压缩备份文件节省空间
- **异地备份**：备份到远程存储

## 🔧 系统管理

### 主机管理

- **添加主机**：添加虚拟化主机
- **主机配置**：配置主机参数
- **主机监控**：监控主机状态
- **主机维护**：主机维护模式

### 系统设置

- **全局配置**：系统全局参数配置
- **网络配置**：网络相关配置
- **安全配置**：安全策略配置
- **备份配置**：备份策略配置

### 数据管理

- **数据库管理**：数据库备份和恢复
- **数据导入**：导入外部数据
- **数据导出**：导出系统数据
- **数据清理**：清理过期数据

## 🚀 API接口

### RESTful API

完整的RESTful API支持，可以通过API实现所有Web界面的功能：

- **虚拟机管理API**：创建、启动、停止、删除等
- **网络管理API**：配置网络、端口转发等
- **用户管理API**：用户和权限管理
- **监控API**：获取监控数据
- **日志API**：查询日志信息

### API文档

- **在线文档**：完整的API文档
- **示例代码**：各种语言的示例代码
- **Postman集合**：Postman API测试集合
- **SDK支持**：Python SDK

## 下一步

- 🚀 查看 [快速上手](/guide/quick-start) 开始使用
- ⚙️ 阅读 [配置指南](/config/server) 了解详细配置
- 🐳 学习 [虚拟机配置](/vm/docker) 配置虚拟化平台
